<table class="table">
    <thead>
        <tr class="sticky-header">
            <th />
            <th>
                <List::ColumnHeader @label={{localize "Misc_Trait" }} @sort={{this.sortByProperty}}
                    @sortingKey="localizedLabel" />
            </th>
            <th>
                <List::ColumnHeader @label={{localize "Misc_Details" }} />
            </th>
            <th>
                <List::ColumnHeader @label={{localize "Misc_Level" }} />
            </th>
            <th>
                <List::ColumnHeader @label={{localize "Misc_Gp" }} @sort={{this.sortByProperty}}
                    @sortingKey="data.costs" />
            </th>
        </tr>
    </thead>
    <tbody>
        {{#each this.rows as |row| }}
        <tr>
            <td class="flex">
                <Interactable::ButtonInfo class="float-left" @article="basic-rules/supplement-traits/{{row.data.id}}" />
                {{#if @isOwned}}
                <Interactable::ButtonSquare class="float-left" @icon="minus" @onClick={{fn this.onRemoveClick row }} />
                {{else}}
                <Interactable::ButtonSquare class="float-left" @icon="plus" @onClick={{fn this.onAddClick row}} />
                {{/if}}
            </td>
            <td class="vertical-align-middle">
                {{row.localizedLabel}}
            </td>
            <td>
                {{#if row.data.needsInput}}
                <Interactable::Inputfield @size="large" @changeset={{row.changeset}} @key="input" @required={{true}}
                    @invalid={{row.invalid}} @disabled={{this.isOwned}} />
                {{/if}}
                {{#if row.data.hasOptions}}
                <div>
                    {{#unless this.isOwned}}
                    <Interactable::Dropdown @size="large" @items={{row.data.options}}
                        @onChangeListener={{this.onOptionChange}} @context={{row}} />
                    {{/unless}}
                    {{#if this.isOwned}}
                    <Interactable::Dropdown @size="large" @items={{row.data.options}}
                        @selectedItem={{row.data.selectedOption}} @disabled={{true}} />
                    {{/if}}
                </div>
                {{/if}}
            </td>
            <td>
                {{#if row.data.hasLevel}}
                <Interactable::ValueControl @value="0" @disabled={{true}} />
                {{/if}}
            </td>
            <td class="text-right margin-sides-smaller">
                {{if (lt row.data.costs 0) '+' }}{{mult -1 row.data.costs}}
            </td>
        </tr>
        {{/each}}
    </tbody>
</table>